<!doctype html>
<html lang="en">
<head>
    <title>Product-Live Chatbot</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">

    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,‌​100italic,300,300ita‌​lic,400italic,500,50‌​0italic,700,700itali‌​c,900italic,900' rel='stylesheet' type='text/css'>
    <!-- Style -->
    <style>
        body {
            color: #676a6c !important;
            font-size: 15px;
            font-family: Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;
            line-height: 21.4286px;
        }
        .btn {
            cursor: pointer;
        }
        h2 {
            color: #676a6c;
            font-size: 24px;
            font-weight: 100;
            margin-top: 5px;
            margin-bottom: 10px;         
        }
        #reload {
            position: absolute;
            background: white;
            border-bottom: 1px solid #d1d1d1;
            width: 100%;
            padding: 10px;
            text-align: right;
        }
        #main  {           
            padding-top: 70px;
        }
        #learn { 
            display: none;
        }
        #learn ul {
            padding: 0;
            list-style-type: none;
            margin-bottom: 0;
        }

        #help {
            display: none;
        }
        #help ul {
            padding: 0;
            list-style-type: none;
            margin-bottom: 0;
        }
        .chatbot {
            font-weight: bold;
            padding-top: 15px ;
        }
        .user-question {
            font-weight: normal;
            cursor: pointer;
            color: #337ab7;
        }
        .user-question:hover {
            text-decoration: underline;
            color: #337ab7;
        }
        .user-response {
            font-weight: normal;
            cursor: pointer;
        }
        .solution {
            padding-top: 15px;
            color: #1bc98e;
            display: none;
        }
        .bug {
            padding-top: 15px;
            color: #e64759;
        }
        p {
            margin-bottom: 0;
        }
    </style>

</head>
<body>
    <div id="reload">
        <button id="reload-btn" type="button" class="btn btn-default btn-sm">Revenir à l'accueil</button>
    </div>
    <!-- <div id="tutorials">
        <h2>Créer des produits</h2>
        <ul>
            <li>Créer des produits directement dans l'interface (1 à 30 produits | 3 minutes)</li>
            <li>Télécharger un template Excel pour travailler sur Excel (1 à 500 produits | 10 minutes)</li>
            <li>Importer des produits dans mon format (1 à 30 produits | 3 minutes)</li>
        </ul>
        <br>
    </div> -->
    <div id="main">
        <div id="learn">
            <h2>Se former</h2>
            <ul>
                <li>Créer des produits
                    <ul>
                        <li>Quel méthode souhaitez-vous utiliser?
                            <ul>
                                <li>Je veux créer des produits directement dans l'inteface</li>
                                <li>Je veux télécharger un template et travailler sur Excel</li>
                                <li>J'ai un fichier dans mon format que je souhaites importer</li>
                                <li>Je ne sais pas répondre, aidez-moi à chosir
                                    <ul>
                                        <li>Combien de produits souhaitez-vous créer?
                                            <ul>
                                                <li>1 produit pour tester</li>
                                                <li>De 1 à 300 produits</li>
                                                <li>De 30 à 50 produits</li>
                                                <li>Plus de 500 produits</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>Classer des produits
                    <ul>
                        <li>
                            <p><b>Tutoriel</b></p>
                            <p>Pour classer vos produits cliquez dans le menu centrale sur le bouton</p>
                            <br>
                            <img src="images/classification.jpg" alt="">
                            <br>
                            <br>
                            <p>Vous pouvez sélectionner et classer des produits comme vous le faites quand vous déplacez des fichiers sur votre ordinateur. <b>La classification se fait dans le menu de droite.</b></p>
                            <img src="images/classer.gif" alt="" width="95%">
                            <p>Vous pouvez sélectionner plusieurs produits d'affiler en utilisant la touche SHIFT + clique de souris, ou en utilisant CTRL + clique de souris, comme pour sélectionner des fichiers sur votre ordinateur.</p>
                            <hr>
                            <h2>Questions posées fréquement</h2>
                            <p>
                                <b>Comment changer de catégorie?</b><br>
                                Pour changer de catégorie il vous suffit de faire la même chose que pour classer un produit.
                            </p>
                            <br>
                            <p>
                                <b>Le panneau pour classer les produits n'est pas visible</b><br>
                                Si le panneau de droite est masqué cliquez en haut à droite sur le bouton suivant :
                                <img src="images/show_classification.jpg" alt="">
                            </p>
                        </li>
                    </ul>
                </li>
                <li>Compléter des attributs</li>
                <li>Ajouter des images</li>
                <li>Publier des produits</li>
                <li>Supprimer des produits</li>
                <li>Rechercher une liste de produits</li>
                <li>Filtrer des produits</li>
                <li>Exporter les données saisies</li>
            </ul>
            <br>
        </div>
        <div id="help">
            <h2>Aide</h2>
            <ul>
                <li>J'ai un problème, aidez-moi
                    <ul>
                        <li>Est-ce que vous utiliser Google Chrome comme navigateur?
                            <ul>
                                <li>Oui
                                    <ul>
                                        <li>Est-ce que votre navigateur est à jour?
                                            <ul>
                                                <li>Oui
                                                    <ul>
                                                        <li>Est-ce que le zoom d'affichage du navigateur est à 100%?
                                                            <ul>
                                                                <li>Oui
                                                                    <ul>
                                                                        <li>Est-ce que tous les utilisateurs rencontrent le même problème?
                                                                            <ul>
                                                                                <li>Oui</li>
                                                                                <li>Non</li>
                                                                            </ul>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                                <li>Non
                                                                    <ul>
                                                                        <li>
                                                                            <p><b>Solution</b></p>
                                                                            <br>
                                                                            <p>Pour mettre le zoom à 100% cliquez simultanément sur Ctrl + 0, ou cliquez dans votre barre de recherche sur le zoom et cliquez sur réinitialiser. Enfin rafraichissez la page cliquant simultanément sur les touches Ctrl + Shift + R.</p>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                                <li>Je ne sais pas
                                                                    <ul>
                                                                        <li>
                                                                            <p><b>Solution</b></p>
                                                                            <br>
                                                                            <p>Pour mettre le zoom à 100% cliquez simultanément sur Ctrl + 0, ou cliquez dans votre barre de recherche sur le zoom et cliquez sur réinitialiser. Enfin rafraichissez la page cliquant simultanément sur les touches Ctrl + Shift + R.</p>
                                                                        </li>
                                                                    </ul>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li>Non
                                                    <ul>
                                                        <li>
                                                            <p><b>Solution</b></p>
                                                            <br>
                                                            <p>Mettez à jour votre navigateur. Pour mettre à jour votre navigateur :</p>
                                                            <ol>
                                                            <li>Cliquez sur les trois points verticaux <img src="images/chrome_settings.jpg" alt=""> en haut en droite du navigateur.</li>
                                                            <li> Puis sur Aide > A propos de Google de Chrome.</li>
                                                            <li>Puis cliquez sur Mettre à jour.</li>
                                                            </ol>
                                                            <p>Enfin fermez et redémarrez votre navigateur.</p>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li>Je ne sais pas
                                                    <ul>
                                                        <li>
                                                            <p><b>Solution</b></p>
                                                            <br>
                                                            <p>Mettez à jour votre navigateur. Pour mettre à jour votre navigateur :</p>
                                                            <ol>
                                                            <li>
                                                                Cliquez sur les trois points verticaux en haut en droite.
                                                            </li>
                                                            <li>
                                                                Puis sure Aide > A propos de Google de Chrome.
                                                            </li>
                                                            <li>
                                                                Puis cliquez sur Mettre à jour.
                                                            </li>
                                                            </ol>
                                                            <p>Enfin fermez et redémarrez votre navigateur.</p>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li>Non
                                    <ul>
                                        <li>
                                            <p><b>Solution</b></p>
                                            <br>
                                            <p>Installez google Chrome : <a href="https://www.google.fr/chrome">https://www.google.fr/chrome</a></p>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    
    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

    <script>
        jQuery.fn.getPath = function () {
            if (this.length != 1) throw 'Requires one element.';

            var path, node = this;
            while (node.length) {
                var realNode = node[0], name = realNode.localName;
                if (!name) break;
                name = name.toLowerCase();

                var parent = node.parent();

                var siblings = parent.children(name);
                if (siblings.length > 1) {
                    name += ':eq(' + siblings.index(realNode) + ')';
                }

                path = name + (path ? '>' + path : '');
                node = parent;
            }

            return path;
        };

        function init() {
            var blocs = ["learn", "help"];
            blocs.forEach(element => {
                // Add class
                $('#'+element+' > ul').find('li').each(function (index) {
                    $(this).hide();
                });
                $('#'+element).find('> ul > li').show().addClass('user-question');
                $('#'+element).show();

                // Add events
                var path = '> ul';
                $('#'+element).on('click', '.user-question', {name: element}, function(event) {
                    var element_name = event.data.name;
                    var position = $(this).index() + 1;
                    if (path == '> ul') {
                        if (element_name == 'learn') {
                            $('#help').hide();
                            var title = $('#learn > ul > li:nth-child('+position+')').clone().children().remove().end().text().trim();
                            $('#learn > h2').html(title);
                            $('#learn > ul > li:nth-child('+position+')').html($('#learn > ul > li:nth-child('+position+')').html().replace(title, ''));
                        } else {
                            $('#learn').hide();
                            var title = $('#help > ul > li:nth-child('+position+')').clone().children().remove().end().text().trim();
                            $('#help > h2').html(title);
                            $('#help > ul > li:nth-child('+position+')').html($('#help > ul > li:nth-child('+position+')').html().replace(title, ''));
                        }
                    }
                    // if(hash == 'p=') { hash += position; } else { hash += ';' + position; }
                    // window.location.hash = hash;
                    console.log('#'+element_name+path+'> li:nth-child(' + position + ')')

                    $('#'+element_name).find(path).find('> li:nth-child(' + position + ')').removeClass('user-question').addClass('user-response');
                    $('#'+element_name).find(path).find('li.user-question').hide();
                    path += '> li:nth-child(' + position + ') > ul';
                    // Next node
                    var is_solution = $('#'+element_name).find(path).find('> li:nth-child(1)').text().trim().startsWith('Solution');
                    var is_bug = $('#'+element_name).find(path).find('> li:nth-child(1)').text().trim().startsWith('Bug');
                    var is_tutorial = $('#'+element_name).find(path).find('> li:nth-child(1)').text().trim().startsWith('Tutoriel');
                    if(is_solution) {
                        // Display solution
                        $('#'+element_name).find(path).find('> li:nth-child(1) > p').addClass('answer');
                        $('#'+element_name).find(path).find('> li:nth-child(1)').find('li').addClass('answer').show();
                        $('#'+element_name).find(path).find('> li:nth-child(1) > p:nth-child(1)').removeClass('answer').addClass('solution');
                        $('#'+element_name).find(path).find('> li:nth-child(1)').show();
                    } else if (is_bug) {
                        // Display bug
                        $('#'+element_name).find(path).find('> li:nth-child(1) > p:nth-child(1)').addClass('bug');
                        $('#'+element_name).find(path).find('> li:nth-child(1) > p:nth-child(2)').addClass('answer');
                        $('#'+element_name).find(path).find('> li:nth-child(1)').show();
                    } else if (is_tutorial) {
                        // Display Tutorial
                        $('#'+element_name).find(path).find('> li:nth-child(1) > p').addClass('answer');
                        $('#'+element_name).find(path).find('> li:nth-child(1)').find('li').addClass('answer').show();
                        $('#'+element_name).find(path).find('> li:nth-child(1) > p:nth-child(1)').removeClass('answer').addClass('solution');
                        $('#'+element_name).find(path).find('> li:nth-child(1)').show();
                    } else {
                        // Display next question
                        $('#'+element_name).find(path).find('> li:nth-child(1)').show().addClass('chatbot');
                        $('#'+element_name).find(path).find('> li:nth-child(1) > ul:nth-child(1) > li').show().addClass('user-question');
                        path += '> li:nth-child(1) > ul';
                    }
                });
            });
            
        }

        $( document ).ready(function() {
            $('#reload-btn').on('click', function(e) {
                location.reload();
            });
            init();
            // var hash = window.location.hash;
            // if (hash) {
            //     init();
            //     hash += 'p=';
            // } else {
            //     init();
            //     hash += 'p=';
            // }

            
        });
    </script>
</body>
</html>